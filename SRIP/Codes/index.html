<!DOCTYPE html>
<html>
<head>
	<title>Virtual Lab in Image Processing</title>
    <link rel="stylesheet" type="text/css" href="sheet.css">
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>

<style>
    body {
    font-family: sans-serif;
}

.item {
    width: 30%;
    float: left;
    height: 30%;
   
    
}
.item img {
    display: block;
    width: 100%;
}
button {
    font-size: 18px;
}
.img_grid{
    width:300px;
    height: 300px;
}
</style>
<script type="text/javascript">
    var canvas2;
    var context2;
    window.addEventListener('load',secimgdisplay);
	function preview( img )
	{
		document.getElementById('input_layer').setAttribute('src',img);
        init();
	}
    function preview_sec( img )
	{
		
        document.getElementById('secondary_image').setAttribute('src',img);
        secimgdisplay();
        
	}
    function secimgdisplay()
    {
        var image2 = document.getElementById('secondary_image');
        canvas2 = document.getElementById('secondary');
        context2 = canvas2.getContext('2d');
        canvas2.width = image2.width;
        canvas2.height = image2.height;
        context2.drawImage(image2, 0, 0);
    }


</script>
    
<script>
    var RunButton;
    var canvas;
    var context;

    function init() {
            var image = document.getElementById('input_layer');
            //var secimage = document.getElementById('secondary')
            RunButton = document.getElementById('Run');
            
            canvas = document.getElementById('output_layer');
            context = canvas.getContext('2d');
  
            // Set the canvas the same width and height of the image
            canvas.width = image.width;
            canvas.height = image.height;

           
  
            RunButton.addEventListener('click', addEffect);
        }


function addEffect() {
    drawImage(document.getElementById('input_layer'));
    var imageData = context.getImageData(0, 0, canvas.width, canvas.height);
    var imageData2 = context2.getImageData(0, 0, canvas2.width, canvas2.height);
    changeToWhite(imageData.data, imageData2.data);
    context.putImageData(imageData, 0, 0);
}

function changeToWhite(data1,data2) {
  for (var i = 0; i < data1.length; i++ ) 
  {
    data1[i] +=data2[i];
      if(data1[1]>255){data1[i]=255;}
      if(data1[1]<0){data1[i]=0;}
  }
}
    function drawImage(image) {
  context.drawImage(image, 0, 0);
}




    
    
</script>    
</head>
<body>
     <div id="topbar">
     	<div id="iiit"><img src="images/iiit.png" width="100" height="70"></div>
     	<div id="heading"><h1>Virtual Lab for IMAGE PROCESSING</h1></div>
     </div>
    
    <div id="Select">
        
        <p id="sel">Select from the images below :</p>
        
        <div class="img_grid">
            <div id="images">
                <div class="item">
                    <img src="images/IMG1.png" width="100" height="100" onclick="preview('images/IMG1.png')">
                </div>
                <div class="item">
                    <img src="images/IMG2.png" width="100" height="100" onclick="preview('images/IMG2.png')">
                </div>
                <div class="item">
                    <img src="images/IMG3.png" width="100" height="100" onclick="preview('images/IMG3.png')">
                </div>
                <div class="item">
                    <img src="images/IMG4.png" width="100" height="100" onclick="preview('images/IMG4.png')">
                </div>
                <div class="item">
                    <img src="images/IMG5.png" width="100" height="100" onclick="preview('images/IMG5.png')">
                </div>
                <div class="item">
                    <img src="images/IMG6.png" width="100" height="100" onclick="preview('images/IMG6.png')">
                </div>
                <div class="item">
                    <img src="images/IMG7.png" width="100" height="100" onclick="preview('images/IMG7.png')">
                </div>
                <div class="item">
                    <img src="images/IMG8.png" width="100" height="100" onclick="preview('images/IMG8.png')">
                </div>
                <div class="item">
                    <img src="images/IMG9.png" width="100" height="100" onclick="preview('images/IMG9.png')">
                </div>
            </div>
        </div>
        
        <div>
            <button id="Run">Run</button>
        </div>
        
    </div>
    <div id="Preview">
        <div id="input_image">
            <img id="input_layer" src="">
        </div>
    	
        <p>Input Layer</p>

    </div>
    <div id="Output">
        <div id="output_image">
            <canvas id="output_layer" class="output_image"></canvas>
        </div>
    	
        <p>Output Layer</p>

    </div>

    
    
    <div class="Parameters">
             <table>
                 <tr valign="top">
                     <td>
                        <h3 style="margin-left: 5px;"> Select Operation</h3>
                        <form name="Operation">
                        <input type="radio" name="Operatn" value="1" checked/>Addition<br />
                        <input type="radio" name="Operatn" value="2" />Subtraction<br/>
                        <input type="radio" name="Operatn" value="3" />Difference<br/>
                        <input type="radio" name="Operatn" value="4" />Multiplication<br/>
                        <input type="radio" name="Operatn" value="5" />Division<br/>
                        </form> 
                     </td>
                     <td>
                         <h3 style="margin-left: 5px;">Select Fitting</h3>
                         <form name="technique">
                         <input type="radio" name="fitting" value="1" checked/>Clipping<br/>
                         <input type="radio" name="fitting" value="2" />Auto-Scaling<br />
                         </form> 
                     </td>
                 </tr>
             </table>
        
             <h3 style="margin: 5px">Select Secondary Image</h3>
             <div id="radio">
	               <input type="radio" id="dully" name="inpImage" value="images/add2.png"
	               onclick="preview_sec('images/add2.png')"
	               checked="checked"/><label for="dully">Dull</label>
	               <input type="radio" id="brighty" name="inpImage" value="images/add1.png"
	               onclick="preview_sec('images/add1.png')"/>
	               <label for="brighty">Bright</label>
	               <input type="radio" id="grady" name="inpImage" value="images/add3.png"
	               onclick="preview_sec('images/add3.png')"/>
	               <label for="grady">Gradient</label>
             </div>
    </div>
    
    <div id="placeholder" style="margin-left: 30px;margin-top: 10px; width:300px; padding: 5px; margin-bottom: 10px;
    border: solid grey 1px;height: 300px">
            <img id="secondary_image" src="images/add2.png"  style="display: none;" >
            <canvas id="secondary" class="secondary_image"></canvas>
    </div>



    
    
</body>
</html>